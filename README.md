Food guide
=============


* Assumptions
	* the input data is normalized and complete
		* corrected minor data error manually
	* no preferences between alternative foods which all satisfies preferences.
		* currently use `simplicity` selection strategy
		
* Enhancement direction
	* provide option for selection strategy like
		* `simplicity` (current) - pick any single food for all servings
		* `variety` - select as many kinds of food for given amount of servings
	* parse food serving expression to calcuate total based on unit conversions
		* for example "2 cup" instead of "4 servings of 1/2 cup"
		* this also will be neccessary to convert recommendation data to shopping list with actual food product data.
	* provide actual food product data including price, with which we can optimize on multiple conflicting interests within given constraints.
		* `minimize cost` while satifying minimum food serving requirements
		* or `maximize happiness` which could be defined with amount of preferred food consumptions, while keeping the constrained budget.
		
		* I'd like to introduce mathmatical solvers to represent the business model as system of equations and inequations.
			* we can keep provides more complicated realworld business logics precisely, for example introducing food expiration constraints for longer period planning.

* Used Groovy/Grails for agile development
	* Groovy reduces amount of code removing technical noises
	* Grails is based on spring/hibernate
	* Grails automates boilerplate code (basic CRUD view and controller)

## Test and run

Please install the following tools if you want to run this tests:

* Setup enviornment as [README](foodguide/README.md)

* run tests:

    > cd foodguide 

	> grailsw test-app

	view reports in ./target/test-reports/html/index.html

* run the app

	> grailsw run-app

## Use the application

* Use daily menu
	1. Create a person in `New Person` menu
		* hold ctrl key to select multiple categories
    2. The person's page shows daily food recommendations

* Family daily menu
 	1. Create each members using `New Person` menu
	2. Create familly using `New Family`
		* select members by hodling ctrl key
	3. The family page shows faimly daily recommendation and each member menus

## Main codes

There's lot of files and codes mostly generated by Grails. Here's the major business code areas.

	foodguide/
		grails-app/
			domain/
			services/
		src/
			groovy/
		test/

* `domain/`	for domain objects representing food guide data and users
* `services/` for service objects implementing the business logic
	* `DataLoadService` load food guide data into domain objects
	* `FoodRecommendService` implement food recommendation logic
* `src/groovy/` contains DTOs representing recommendation command and result.
* `test` contains unit tests and integration tests
